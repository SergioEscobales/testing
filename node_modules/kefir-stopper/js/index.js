"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = kefirStopper;

var Kefir = require('kefir');

function kefirStopper() {
  var emitter = null;

  function end() {
    stopper.stopped = true;

    if (emitter) {
      emitter.emit(null);
      emitter.end();
    }
  }

  var stream = Kefir.stream(function (_emitter) {
    emitter = _emitter;

    if (stopper.stopped) {
      end();
    }
  });
  var stopper = stream.toProperty();
  stopper.stopped = false;
  stopper.destroy = end;
  return stopper;
}

module.exports = exports.default;
module.exports.default = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJLZWZpciIsInJlcXVpcmUiLCJrZWZpclN0b3BwZXIiLCJlbWl0dGVyIiwiZW5kIiwic3RvcHBlciIsInN0b3BwZWQiLCJlbWl0Iiwic3RyZWFtIiwiX2VtaXR0ZXIiLCJ0b1Byb3BlcnR5IiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBLElBQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBT2UsU0FBU0MsWUFBVCxHQUFpQztBQUM5QyxNQUFJQyxPQUFPLEdBQUcsSUFBZDs7QUFFQSxXQUFTQyxHQUFULEdBQWU7QUFDYkMsSUFBQUEsT0FBTyxDQUFDQyxPQUFSLEdBQWtCLElBQWxCOztBQUNBLFFBQUlILE9BQUosRUFBYTtBQUNYQSxNQUFBQSxPQUFPLENBQUNJLElBQVIsQ0FBYSxJQUFiO0FBQ0FKLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUjtBQUNEO0FBQ0Y7O0FBRUQsTUFBTUksTUFBTSxHQUFHUixLQUFLLENBQUNRLE1BQU4sQ0FBYSxVQUFBQyxRQUFRLEVBQUk7QUFDdENOLElBQUFBLE9BQU8sR0FBR00sUUFBVjs7QUFDQSxRQUFJSixPQUFPLENBQUNDLE9BQVosRUFBcUI7QUFDbkJGLE1BQUFBLEdBQUc7QUFDSjtBQUNGLEdBTGMsQ0FBZjtBQU9BLE1BQU1DLE9BQWdCLEdBQUlHLE1BQU0sQ0FBQ0UsVUFBUCxFQUExQjtBQUNBTCxFQUFBQSxPQUFPLENBQUNDLE9BQVIsR0FBa0IsS0FBbEI7QUFDQ0QsRUFBQUEsT0FBRCxDQUFjTSxPQUFkLEdBQXdCUCxHQUF4QjtBQUNBLFNBQU9DLE9BQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5cbmNvbnN0IEtlZmlyID0gcmVxdWlyZSgna2VmaXInKTtcblxuZXhwb3J0IHR5cGUgU3RvcHBlciA9IEtlZmlyLlByb3BlcnR5PG51bGw+JntcbiAgc3RvcHBlZDogYm9vbGVhbjtcbiAgZGVzdHJveSgpOiB2b2lkO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ga2VmaXJTdG9wcGVyKCk6IFN0b3BwZXIge1xuICBsZXQgZW1pdHRlciA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZW5kKCkge1xuICAgIHN0b3BwZXIuc3RvcHBlZCA9IHRydWU7XG4gICAgaWYgKGVtaXR0ZXIpIHtcbiAgICAgIGVtaXR0ZXIuZW1pdChudWxsKTtcbiAgICAgIGVtaXR0ZXIuZW5kKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3RyZWFtID0gS2VmaXIuc3RyZWFtKF9lbWl0dGVyID0+IHtcbiAgICBlbWl0dGVyID0gX2VtaXR0ZXI7XG4gICAgaWYgKHN0b3BwZXIuc3RvcHBlZCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBzdG9wcGVyOiBTdG9wcGVyID0gKHN0cmVhbS50b1Byb3BlcnR5KCk6IGFueSk7XG4gIHN0b3BwZXIuc3RvcHBlZCA9IGZhbHNlO1xuICAoc3RvcHBlcjphbnkpLmRlc3Ryb3kgPSBlbmQ7XG4gIHJldHVybiBzdG9wcGVyO1xufVxuIl19